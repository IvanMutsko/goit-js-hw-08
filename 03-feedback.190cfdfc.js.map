{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BACjCG,EAAUJ,SAASC,cAAc,UACjCI,EAAwB,sBAGUN,EAAnCO,iBACH,SACA,EAAAT,EAAAU,WAAS,WAEY,IAAbC,EAAkB,CACtBC,MAAOP,EAAMQ,MACbC,QAASR,EAAQO,OAGwBE,aAA9BC,QACXR,EACAS,KAAKC,UAAUP,G,GAEhB,MAIgC,IACnC,IAAMQ,EAAeJ,aAAaK,QAAQZ,GACpCa,EAAqBJ,KAAKK,MAAMH,GAEC,KAAnCE,EAAmBT,MAAMC,QAC3BR,EAAMQ,MAAQQ,EAAmBT,OAEM,KAArCS,EAAmBP,QAAQD,QAC7BP,EAAQO,MAAQQ,EAAmBP,Q,CAErC,MAAOS,GAEKC,QAAJC,IAAIF,EAAMG,MAClBF,QAAQC,IAAIF,EAAMT,Q,CAGRP,EAAJE,iBAAiB,SAAS,SAAAkB,GAChCA,EAAMC,iBAESb,aAAFc,WAAWrB,GAEM,IAAxBsB,EAAa,CACjBlB,MAAOP,EAAMQ,MACbC,QAASR,EAAQO,OAEnBW,QAAQC,IAAI,aAAcK,GAE1B5B,EAAK6B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\nconst formBtn = document.querySelector('button');\nconst LOCALSTORAGE_KEY_FORM = 'feedback-form-state';\n\n// записуємо кожні 500мс введені дані в локалсторедж\nform.addEventListener(\n  'input',\n  throttle(() => {\n    //   шаблон локалстореджа\n    const savedFormString = {\n      email: email.value,\n      message: message.value,\n    };\n    // перевід шаблона в рядок + збереження в локалсторедж\n    localStorage.setItem(\n      LOCALSTORAGE_KEY_FORM,\n      JSON.stringify(savedFormString)\n    );\n  }, 500)\n);\n\n// перевірка на правильність данних при парсі\ntry {\n  const savedFormObj = localStorage.getItem(LOCALSTORAGE_KEY_FORM);\n  const parsedSavedFormObj = JSON.parse(savedFormObj);\n  // перевірки на наявність даних в формі і запис зі стореджа\n  if (parsedSavedFormObj.email.value !== '') {\n    email.value = parsedSavedFormObj.email;\n  }\n  if (parsedSavedFormObj.message.value !== '') {\n    message.value = parsedSavedFormObj.message;\n  }\n} catch (error) {\n  // вивід помилок\n  console.log(error.name);\n  console.log(error.message);\n}\n// слухач кнопки\nformBtn.addEventListener('click', event => {\n  event.preventDefault();\n  // очистка стореджа\n  localStorage.removeItem(LOCALSTORAGE_KEY_FORM);\n  // вивід в консоль відправлених даних\n  const submitData = {\n    email: email.value,\n    message: message.value,\n  };\n  console.log('Feedback: ', submitData);\n  // очистка форми\n  form.reset();\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$formBtn","$b00c40859be242c5$var$LOCALSTORAGE_KEY_FORM","addEventListener","throttle","savedFormString","email","value","message","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$savedFormObj","getItem","$b00c40859be242c5$var$parsedSavedFormObj","parse","error","console","log","name","event","preventDefault","removeItem","submitData","reset"],"version":3,"file":"03-feedback.190cfdfc.js.map"}