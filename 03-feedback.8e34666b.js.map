{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BACjCG,EAAUJ,SAASC,cAAc,UAICF,EAAnCM,iBACH,SACA,EAAAR,EAAAS,WAAS,KAEY,MAAbC,EAAkB,CACtBC,MAAON,EAAMO,MACbC,QAASP,EAAQM,OAGwBE,aAA9BC,QAZa,sBAcxBC,KAAKC,UAAUP,GAChB,GACA,MAIgC,IACnC,MAAMQ,EAAeJ,aAAaK,QArBN,uBAsBtBC,EAAqBJ,KAAKK,MAAMH,GAEC,KAAnCE,EAAmBT,MAAMC,QAC3BP,EAAMO,MAAQQ,EAAmBT,OAEM,KAArCS,EAAmBP,QAAQD,QAC7BN,EAAQM,MAAQQ,EAAmBP,Q,CAErC,MAAOS,GAEKC,QAAJC,IAAIF,EAAMG,MAClBF,QAAQC,IAAIF,EAAMT,Q,CAGRN,EAAJC,iBAAiB,SAASkB,IAChCA,EAAMC,iBAESb,aAAFc,WAvCe,uBAyCE,MAAxBC,EAAa,CACjBlB,MAAON,EAAMO,MACbC,QAASP,EAAQM,OAEnBW,QAAQC,IAAI,aAAcK,GAE1B3B,EAAK4B,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\nconst formBtn = document.querySelector('button');\nconst LOCALSTORAGE_KEY_FORM = 'feedback-form-state';\n\n// записуємо кожні 500мс введені дані в локалсторедж\nform.addEventListener(\n  'input',\n  throttle(() => {\n    //   шаблон локалстореджа\n    const savedFormString = {\n      email: email.value,\n      message: message.value,\n    };\n    // перевід шаблона в рядок + збереження в локалсторедж\n    localStorage.setItem(\n      LOCALSTORAGE_KEY_FORM,\n      JSON.stringify(savedFormString)\n    );\n  }, 500)\n);\n\n// перевірка на правильність данних при парсі\ntry {\n  const savedFormObj = localStorage.getItem(LOCALSTORAGE_KEY_FORM);\n  const parsedSavedFormObj = JSON.parse(savedFormObj);\n  // перевірки на наявність даних в формі і запис зі стореджа\n  if (parsedSavedFormObj.email.value !== '') {\n    email.value = parsedSavedFormObj.email;\n  }\n  if (parsedSavedFormObj.message.value !== '') {\n    message.value = parsedSavedFormObj.message;\n  }\n} catch (error) {\n  // вивід помилок\n  console.log(error.name);\n  console.log(error.message);\n}\n// слухач кнопки\nformBtn.addEventListener('click', event => {\n  event.preventDefault();\n  // очистка стореджа\n  localStorage.removeItem(LOCALSTORAGE_KEY_FORM);\n  // вивід в консоль відправлених даних\n  const submitData = {\n    email: email.value,\n    message: message.value,\n  };\n  console.log('Feedback: ', submitData);\n  // очистка форми\n  form.reset();\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","$945622fd0f572e60$var$formBtn","addEventListener","throttle","savedFormString","email","value","message","localStorage","setItem","JSON","stringify","savedFormObj","getItem","parsedSavedFormObj","parse","error","console","log","name","event","preventDefault","removeItem","submitData","reset"],"version":3,"file":"03-feedback.8e34666b.js.map"}